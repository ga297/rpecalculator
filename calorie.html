<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RPE CALCULATOR</title>
    <link rel="stylesheet" href="rpe.css">
  </head>
  <body>
    <header>
      <a href="/rpecalculator/"><h1 class="header-logo">C</h1></a>
    </header>

    <div class="content">
      <div class="inputarea">
        <p class="content-title">身長を入力してください</p>
        <div class="input">
          <input type="text" id="height"><span> cm</span>
        </div>
        <br>

        <p class="content-title">体重を入力してください</p>
        <div class="input">
          <input type="text" id="weight"><span> kg</span>
        </div>
        <br>

        <p class="content-title">年齢を入力してください</p>
        <div class="input">
          <input type="text" id="age"><span> 歳</span>
        </div>
        <br>

        <p class="content-title">性別を選択してください</p>
        <div class="input">
          <form id="gender">
            <input type="radio" value="male" name="gender" checked><span>男性</span>
            <input type="radio" value="female" name="gender"><span>女性</span>
          </form>
        </div>
        <br>

        <p class="content-title">運動レベルを選択してください</p>
        <div class="input">
          <form name="form1">
            <select name="level1" class="select">
              <option value="1">ほぼ運動しない。通勤・デスクワーク程度</option>
              <option value="2">軽い運動。週に1～2回程度の運動</option>
              <option value="3">中程度の運動。週に3～5回程度の運動</option>
              <option value="4">激しい運動。週に6～7回程度の運動</option>
              <option value="5">かなり激しい運動。一日に2回程度の運動</option>
            </select>
          </form>
        </div>
        <br>

        <p class="content-title">目標体重を入力してください</p>
        <div class="input">
          <input type="text" id="target"><span> kg</span>
        </div>
        <br>

        <p class="content-title">目標期間を入力してください</p>
        <div class="input">
          <input type="text" id="period"><span> 日</span>
        </div>
      </div>
      <br>

      <div class="input">
        <button type="button" id="btn">計算</button>
      </div>
      <br>
      <hr>
      <br>

      <div class="output-form">
        <div class="bmi">
          <span>BMI：</span>
          <span id="bmi"></span>
        </div>
        <div class="bmr">
          <span>基礎代謝量：</span>
          <span id="bmr"></span>
        </div>
        <div class="tdee">
          <span>活動代謝量：</span>
          <span id="tdee"></span>
        </div>
        <div class="calorie">
          <span>摂取すべきエネルギー量：</span>
          <span id="calorie"></span>
        </div>
      </div>

    <footer>
      <p class="copy-right">©yuyafukunaga</p>
    </footer>

    <script>
      var btn = document.getElementById("btn");
      btn.addEventListener("click", function(){
        var height = document.getElementById("height").value;
        var weight = document.getElementById("weight").value;
        var age = document.getElementById("age").value;
        var bmi = weight / height * 100 / height * 100

        var gender = document.getElementById("gender");
        var genderList = gender.gender;
        var a = genderList.value;

        if (a == "male") {
          var bmr = 13.397 * weight + 4.799 * height - 5.677 * age + 88.362;
        } else {
          var bmr = 9.247 * weight + 3.098 * height - 4.33 * age + 447.593;
        }

        const level1 = document.form1.level1;
    	  const num = level1.selectedIndex;
      	const b = level1.options[num].value;

        if (b == 1) {
          var tdee = bmr * 1.2;
        } else if (b == 2) {
          var tdee = bmr * 1.375;
        } else if (b == 3) {
          var tdee = bmr * 1.55;
        } else if (b == 4) {
          var tdee = bmr * 1.725;
        } else {
          var tdee = bmr * 1.9;
        }

        var target = document.getElementById("target").value;
        var period = document.getElementById("period").value;
        var calorie = tdee - (weight - target) * 7200 / period;

        document.getElementById("bmi").innerHTML = Math.round(bmi * 10) / 10;
        document.getElementById("bmr").innerHTML = Math.round(bmr) + "kcal";
        document.getElementById("tdee").innerHTML = Math.round(tdee) + "kcal";
        document.getElementById("calorie").innerHTML = Math.round(calorie) + "kcal";
      })
    </script>
  </body>
</html>
